### Istio背景

随着微服务框架的火热，引入的过程也带来了很多问题：

- 服务的拆分导致实例数量的增多，带来了运维成本，对自动化运维要求更高
- 微服务内部之间的调用越来越复杂，调用链更长，对问题追查带来了困难，对框架内部的安全，稳定，速度更高要求。

Kubernetes的出现给微服务框架解决了部署，监控，日志，服务扩所容的问题，但是在微服务的观测和质量保障，流量管理，基础设施的集成，服务件通信管理方面都是短板。

服务网格的概念由此诞生，目前主要的 Service Mesh的产品如下：

Spring Cloud（2015）、Linkerd（2016）、Istio（2017）

Istio由Google、IBM、Lyft共同维护，以Envoy为数据平面，通过sidecar的方式让Envoy和业务容器一起运行，并劫持通信，接受控制平面同一管理

### Istio特性

- 流量管理

  Istio 简单的规则配置和流量路由允许您控制服务之间的流量和 API 调用过程，也就是通过VirtualService + DestinationRule实现，让它轻而易举的执行重要的任务（如 A/B 测试、金丝雀发布和按流量百分比划分的分阶段发布

- 安全

  Istio 是独立于平台的，可以与 Kubernetes（或基础设施）的网络策略一起使用。但它更强大，能够在网络和应用层面保护pod到 pod 或者服务到服务之间的通信。

- 可观察性

  Istio 健壮的追踪、监控和日志特性让您能够深入的了解服务网格部署。通过 Istio 的监控能力，可以真正的了解到服务的性能是如何影响上游和下游的；而它的定制 Dashboard 提供了对所有服务性能的可视化能力，并让您看到它如何影响其他进程。

  



